
@{
    Layout = null;
}

@model  HST.Art.Web.LoginViewModel
<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <!--[if lt IE 9]>
    <script type="text/javascript" src="lib/html5shiv.js"></script>
    <script type="text/javascript" src="lib/respond.min.js"></script>
    <![endif]-->
    @Scripts.Render("~/bundles/saos")
    @Scripts.Render("~/bundles/validate")
    @Styles.Render("~/appcss")
    @Styles.Render("~/login")
    <!--[if IE 6]>
    <script type="text/javascript" src="lib/DD_belatedPNG_0.0.8a-min.js" ></script>
    <script>DD_belatedPNG.fix('*');</script>
    <![endif]-->
    <title>登录</title>
    <style type="text/css">
        .input-validation-error {
            border: 1px solid #f00;
            background-color: #fee;
        }
    </style>
</head>
<body>
    @using (Html.BeginForm("Login", "Account", new { RetrunUrl = ViewBag.ReturnUrl }, FormMethod.Post,new {id= "frmLogin" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)
        <input type="hidden" id="TenantId" name="TenantId" value="" />
        <div class="header header_c"><span style="padding-left:20px;">哈哈哈哈</span></div>
        <div class="loginWraper">
            <div id="loginform" class="loginBox">
                <h1>欢迎回来</h1>
                <div class="row cl">
                    <div class="formControls">
                        @Html.TextBoxFor(m => m.Account, new { placeholder = "请输入用户名或手机号", @class = "input-text size-L" })
                        @Html.ValidationMessageFor(m => m.Account, null, new { @class = "error-lable" })
                    </div>
                </div>
                <div class="row cl">               
                    <div class="formControls">
                        @Html.PasswordFor(m => m.Password, new { placeholder = "请输入密码", @class = "input-text size-L" })
                        @Html.ValidationMessageFor(m => m.Password, null, new { @class = "error-lable" })
                        @Html.ValidationMessage("ErrorMessage", null, new { @class = "error-lable", id = "password_error" })
                    </div>
                </div>
                <div class="row cl">
                    <div class="formControls">
                        <input type="button" id="btn_login" class="btn btn-primary radius size-L"  value="登&nbsp;&nbsp;&nbsp;&nbsp;录">
                    </div>
                </div>
            </div>
        </div>
    }
    <div class="footer"></div>
    <script>
        $(function () {
            $("#btn_login").click(function () {         
                if ($("#frmLogin").valid()) {
                    $("#frmLogin").submit();
                    $("#password_error").html("");
                    $(this).val("正在登录...").css("opacity", "0.8").attr("disabled", "disabled");
                }
            });

            $(".input-text").keypress(function (e) {
                if (e.which == 13) {
                    $("#btn_login").click();
                }

            })
        })
    </script>
</body>
</html>
